<html>
    <head>
        <title>JsPlot3D - Calculated Animated Barchart</title>
        <link rel="stylesheet" type="text/css" href="../style.css">
    </head>
    <body>
        <h1>Calculated Animated Barchart</h1>
        <div class="container" id="JsPlot3DContainer1" style="width:300px; height:300px;"></div>
        <div class="container" id="JsPlot3DContainer2" style="width:300px; height:300px;"></div>
        <div class="container" id="JsPlot3DContainer3" style="width:300px; height:300px;"></div>
        <div class="container" id="JsPlot3DContainer4" style="width:300px; height:300px;"></div>
        <p>
            Bars should change their color upon changing their height. The highest bar is red, the lowest is blue. The bars inbetween turqoise, green, yellow and orange.<br/>
            There is no space between the bars. They are supposed to move in a wave shape.<br/>
            <b>- The fourth plot</b> is supposed to be very flat<br/>
            Plot 2 and 3 don't have anything too suspicious about them by default. The waves behave differently, but that's all.<br/>
        </p>
        <p>
            The background is blue. There are no  axes visible.
        </p>
    </body>
</html>

<script src="https://threejs.org/build/three.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.18.0/math.min.js"></script>
<script type="text/javascript" src="../../compiled/JsPlot3D.js"></script>

<script>

    var speed = 0.02

    var plot1 = new JSPLOT3D.Plot(document.getElementById("JsPlot3DContainer1"),
        {
            backgroundColor: "#2266aa",
            axesColor: 0xffff00
        })
    plot1.setDimensions({xLen:1.1,zLen:1.1,yLen:1.1})
    plot1.removeAxes() // don't show axes
    plot1.setDimensions({xRes: 5, zRes: 5})
    var i1 = 1;
    plot1.animate(function() {
        plot1.plotFormula("(sin(2*x1+i1)+sin(2*x3+i1))*0.001", {"i1": i1}, {
            mode: "barchart",
            normalizeX2: true,
            barchartPadding: 0,
            keepOldPlot: true,
        })
        i1 += speed
    })



    var plot2 = new JSPLOT3D.Plot(document.getElementById("JsPlot3DContainer2"),
        {
            backgroundColor: "#2266aa",
            axesColor: 0xffff00
        })
    plot2.setDimensions({xLen:1.1,zLen:1.1,yLen:1.5})
    plot2.removeAxes()
    plot2.setDimensions({xRes: 5, zRes: 5})
    var i2 = 1;
    //make sure to either set normalizeX2: true or multiply the formula with something very small in case of barchart.
    //the bars are the sum of alle previously calculated results
    plot2.animate(function() {
        plot2.plotFormula("(sin(2*x1+i2)+sin(2*x3+i2))*0.005", {"i2": i2}, {
            mode: "barchart",
            normalizeX2: false,
            barchartPadding: 0,
            keepOldPlot: true
        })
        i2 += speed
    })
    



    var plot3 = new JSPLOT3D.Plot(document.getElementById("JsPlot3DContainer3"),
        {
            backgroundColor: "#2266aa",
            axesColor: 0xffff00
        })
    plot3.setDimensions({xLen:1.1,zLen:1.1,yLen:1.5})
    plot3.removeAxes()
    plot3.setDimensions({xRes: 5, zRes: 5})
    var i3 = 1;
    //make sure to either set normalizeX2: true or multiply the formula with something very small in case of barchart.
    //the bars are the sum of alle previously calculated results
    plot3.animate(function() {
        plot3.plotFormula("(sin(2*x1+i3)+sin(2*x3+i3))", {"i3": i3}, {
            mode: "barchart",
            normalizeX2: true,
            barchartPadding: 0,
            keepOldPlot: false
        })
        i3 += speed
    })
    



    var plot4 = new JSPLOT3D.Plot(document.getElementById("JsPlot3DContainer4"),
        {
            backgroundColor: "#2266aa",
            axesColor: 0xffff00
        })
    plot4.setDimensions({xLen:1.1,zLen:1.1,yLen:1.5})
    plot4.removeAxes()
    plot4.setDimensions({xRes: 5, zRes: 5})
    var i4 = 1;
    //make sure to either set normalizeX2: true or multiply the formula with something very small in case of barchart.
    //the bars are the sum of alle previously calculated results
    plot4.animate(function() {
        plot4.plotFormula("(sin(2*x1+i4)+sin(2*x3+i4))*0.03", {"i4": i4}, {
            mode: "barchart",
            normalizeX2: false,
            barchartPadding: 0,
            keepOldPlot: false
        })
        i4 += speed
    })


</script>